<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/png" href="/GigsTm_files/lgo_project1.png">
<link rel="shortcut icon" type="image/png" href="/GigsTm_files/lgo_project1.png">
<title>Admin – Manage Gigs | GigsTM</title>
<!-- UI: ensure correct stylesheet paths so CSS updates apply -->
<link rel="stylesheet" href="/GigsTm_files/bootstrap.css">
<link rel="stylesheet" href="/admin.css">
<link rel="stylesheet" href="./styles.css">
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
/>
<!-- Page Specific CSS -->
<link rel="stylesheet" href="/gigs-admin.css">
</head>
<body>
<!-- Custom Sidebar (Isolated) -->
<link rel="stylesheet" href="/sidebar.css">
<div id="custom-sidebar">
  <div class="sidebar-toggle-btn">
    <i class="fas fa-bars"></i>
  </div>
  <ul class="sidebar-menu">
    <li>
      <a href="/private/admin.html">
        <div class="sidebar-icon"><i class="fas fa-tachometer-alt"></i></div>
        <span class="sidebar-text">Dashboard</span>
      </a>
    </li>
    <li>
      <a href="/private/gigs-admin.html">
        <div class="sidebar-icon"><i class="fas fa-plus-circle"></i></div>
        <span class="sidebar-text">Create Gigs</span>
      </a>
    </li>
    <li>
      <a href="/private/analytics.html">
        <div class="sidebar-icon"><i class="fas fa-users"></i></div>
        <span class="sidebar-text">Analytics</span>
      </a>
    </li>
    <li>
      <a href="/private/user-verification.html">
        <div class="sidebar-icon"><i class="fas fa-user-check"></i></div>
        <span class="sidebar-text">User Verification</span>
      </a>
    </li>
    <li>
      <a href="/admin/claims">
        <div class="sidebar-icon"><i class="fas fa-clipboard-check"></i></div>
        <span class="sidebar-text">Claim Form</span>
      </a>
    </li>
    <li>
      <a href="/admin/qna-validation">
        <div class="sidebar-icon"><i class="fas fa-question-circle"></i></div>
        <span class="sidebar-text">QnA Validation</span>
      </a>
    </li>
    <li>
      <a href="/gigs-categories.html">
        <div class="sidebar-icon"><i class="fas fa-list"></i></div>
        <span class="sidebar-text">Gigs Category</span>
      </a>
    </li>

  </ul>
</div>
<div id="mobile-sidebar-trigger">
  <i class="fas fa-bars"></i>
</div>
<script src="/sidebar.js"></script>
<!-- End Custom Sidebar -->
<div class="admin-container">
<div class="admin-header">
<h1>
  <img src="/GigsTm_files/lgo_project1.png" alt="GigsTM" style="height:36px;vertical-align:middle;margin-right:.5rem;">
</h1>
<div class="actions">
<input id="search-input" type="text" placeholder="Search users, roles, occupation">
<button id="logout-btn">Logout</button>
</div>
</div>
<!-- Gigs Admin Content -->
<div class="gig-form-container">
    <h2>Create New Gig</h2>
    <form id="create-gig-form">
        <div class="form-group">
            <label for="gig-title">Gig Title</label>
            <input type="text" id="gig-title" name="gigTitle" placeholder="e.g., Senior React Developer" required>
        </div>

        <div class="form-group">
            <label for="gig-category">Category</label>
            <select id="gig-category" name="category" required>
                <option value="">Select Category</option>
                <option value="EdTech">EdTech</option>
                <option value="Fintech">Fintech</option>
                <option value="Banking">Banking</option>
                <option value="Healthcare">Healthcare</option>
                <option value="Logistics">Logistics</option>
                <option value="Manufacturing">Manufacturing</option>
                <option value="E-commerce">E-commerce</option>
                <option value="Fashion">Fashion</option>
                <option value="Real Estate">Real Estate</option>
                <option value="Hospitality">Hospitality</option>
                <option value="Mobility">Mobility</option>
            </select>
        </div>

        <div class="form-group">
            <label for="short-desc">Short Description</label>
            <textarea id="short-desc" name="shortDescription" rows="3" placeholder="Brief summary of the role..." required></textarea>
        </div>

        <div class="form-group">
            <label for="full-desc">Full Description</label>
            <textarea id="full-desc" name="fullDescription" rows="6" placeholder="Detailed job requirements and responsibilities..." required></textarea>
        </div>

        <div class="form-row">
            <div class="form-group half">
                <label for="location">Location</label>
                <input type="text" id="location" name="location" placeholder="City, State" required>
            </div>
            <div class="form-group half">
                <label for="work-type">Work Type</label>
                <select id="work-type" name="workType" required>
                    <option value="Remote">Remote</option>
                    <option value="Field">Field</option>
                    <option value="Hybrid">Hybrid</option>
                </select>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group half">
                <label for="payment-type">Payment Type</label>
                <select id="payment-type" name="paymentType" required>
                    <option value="Per Task">Per Task</option>
                    <option value="Per Day">Per Day</option>
                    <option value="Per Milestone">Per Milestone</option>
                </select>
            </div>
            <div class="form-group half">
                <label for="payout">Payout Amount (₹)</label>
                <input type="number" id="payout" name="payout" placeholder="e.g., 5000" min="0" required>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group half">
                <label for="openings">Number of Openings</label>
                <input type="number" id="openings" name="openings" placeholder="e.g., 5" min="1" required>
            </div>
            <div class="form-group half">
                <label for="status">Status</label>
                <select id="status" name="status">
                    <option value="Draft">Draft</option>
                    <option value="Published">Published</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label for="skills">Skills Required</label>
            <input type="text" id="skills" name="skills" placeholder="e.g., React, Node.js, Communication (comma separated)" required>
        </div>

        <!-- Internal Project Details (Admin Only) -->
        <div class="internal-details-section" style="margin-top: 2rem; border-top: 1px solid #eee; padding-top: 1.5rem;">
            <h3 style="font-size: 1.1rem; font-weight: 600; color: #2c3e50; margin-bottom: 0.25rem;">Internal Project Details (Admin Only)</h3>
            <p style="font-size: 0.85rem; color: #7f8c8d; margin-bottom: 1rem;">Not visible to gig workers</p>

            <div class="form-group">
                <label for="sop">Scope of Work (SOP) <span style="color:red">*</span></label>
                <textarea id="sop" name="sop" rows="4" placeholder="Define task scope, deliverables, KPIs, timelines, and exclusions." required></textarea>
            </div>

            <div class="form-group">
                <label for="payout-terms">Payout Terms (PT) <span style="color:red">*</span></label>
                <textarea id="payout-terms" name="payoutTerms" rows="4" placeholder="Define payout per task, milestones, payment cycle, penalties, and conditions." required></textarea>
            </div>
        </div>

        <div class="form-actions">
            <button type="button" class="btn-draft">Save as Draft</button>
            <button type="submit" class="btn-publish">Publish</button>
        </div>
    </form>
</div>

<div class="gigs-list-container">
    <h2>Manage Gigs</h2>
    <table class="gigs-table">
        <thead>
            <tr>
                <th>Title</th>
                <th>Category</th>
                <th>Location</th>
                <th>Payment</th>
                <th>Status</th>
                <th>Created Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="gigs-table-body">
            <!-- Sample Static Row -->
            <tr>
                <td>Senior React Developer</td>
                <td>EdTech</td>
                <td>Remote</td>
                <td>₹5,000 / Task</td>
                <td><span class="status-badge published">Published</span></td>
                <td>02 Feb 2026</td>
                <td class="actions-cell">
                    <button class="btn-edit"><i class="fas fa-edit"></i> Edit</button>
                    <button class="btn-delete"><i class="fas fa-trash"></i> Delete</button>
                    <button class="btn-toggle-publish"><i class="fas fa-eye-slash"></i> Unpublish</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<footer class="gigstm-footer">
  <div class="footer-content">
    <div class="footer-section">
      <h3>Contact us at</h3>
      <div class="contact-item">
        <i class="fas fa-envelope"></i>
        <span>support@gigstm.com</span>
      </div>
      <div class="contact-item">
        <i class="fas fa-phone"></i>
        <span>+91-7081266668</span>
      </div>
      <div class="social-section">
        <p>Follow us on:</p>
        <div class="social-icons">
          <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
          <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
          <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
        </div>
      </div>
    </div>

    <div class="footer-section">
      <h3>Company</h3>
      <ul class="footer-links">
        <li><a href="#">Who We Are</a></li>
        <li><a href="#">How GigsTm Work</a></li>
      </ul>
    </div>

    <div class="footer-section">
      <h3>Categories</h3>
      <ul class="footer-links">
        <li>
          <a href="#">Field Sales - E commerce Marketplace</a>
        </li>
      </ul>
    </div>

    <div class="footer-section">
      <h3>Legal</h3>
      <ul class="footer-links">
        <li><a href="/public/index.html">Home</a></li>
        <li><a href="#">Blog</a></li>
        <li><a href="#">Privacy Policy</a></li>
        <li><a href="#">Terms & Conditions</a></li>
        <li><a href="#">Contact Us</a></li>
      </ul>
    </div>
  </div>

  <div class="footer-bottom">
    <p>Copyright 2025 gigstm.com | All Rights Reserved.</p>
  </div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('create-gig-form');
        
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const formData = new FormData(form);
                const payload = {};
                
                formData.forEach((value, key) => {
                    payload[key] = value;
                });
                
                // Convert numeric fields
                if (payload.payout) payload.payout = parseFloat(payload.payout);
                if (payload.openings) payload.openings = parseInt(payload.openings, 10);
                
                console.log('Form Payload:', payload);
                
                // Placeholder API endpoint for creating gigs
                // const apiEndpoint = '/api/gigs'; 
                
                // fetch(apiEndpoint, {
                //     method: 'POST',
                //     headers: {
                //         'Content-Type': 'application/json'
                //     },
                //     body: JSON.stringify(payload)
                // })
                // .then(response => response.json())
                // .then(data => console.log('Success:', data))
                // .catch(error => console.error('Error:', error));
            });
        }
    });
</script>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const logoutBtn = document.getElementById("logout-btn");
        if (logoutBtn) {
            logoutBtn.addEventListener("click", (e) => {
                e.preventDefault();
                
                // 1. Clear Client-Side Auth Data
                // Use literal key "admin_token" as ADMIN_TOKEN_KEY is not defined in this scope
                localStorage.removeItem("admin_token"); 
                localStorage.removeItem("admin_user");
                sessionStorage.clear(); // Good practice to clear session data
                
                // 2. Redirect to Server Logout to clear Session/Cookies
                // Use replace() to remove current page from history and trigger server-side cleanup
                // The server will redirect to /admin-login.html
                window.location.replace("/admin-logout");
            });
        }
    });
</script>
</body>
</html>